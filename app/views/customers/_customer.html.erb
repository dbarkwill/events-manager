<div class="col-4" id="<%= dom_id customer %>">
    <div class="card p-3">
      <h5 class="card-title"><%= customer.name %></h5>
      <p class="card-text">
          <b>Address:</b> <%= customer.address %><br>
          <b>Phone Number:</b> <%= customer.phone_number %><br>
          <b>Customer Number:</b> <%= customer. customer_number %></br>
          <% if customer.registrations.count >= 1 %>
            <b>Dinner Count:</b> <%= customer.registrations.first.dinner_count %>
            <div class="alert alert-success" role="alert">Registered</div>
            <div class="d-grid gap-2">
              <% if customer.check_ins.count >= 1 %>
                <fieldset disabled>
                  <button type="button" class="btn btn-secondary btn-lg">Already Checked In</button>
                </fieldset>
              <% else %>
                <%= form_with(model: @check_in) do |form| %>
                  <%= form.hidden_field :customer_id, value: customer.id %>
                  <%= form.hidden_field :registration_id, value: customer.registrations.first.id %>
                  <%= form.hidden_field :employee_id, value: current_employee.id %>
                  <%= form.submit "Check-In", class:"btn btn-primary btn-lg" %>
                <% end %>
              <% end %>
            </div>
          <% else %>
            <div class="alert alert-warning" role="alert">Not Registered</div>
            <%= link_to "Register Now", new_customer_registration_path(customer), class: "btn btn-secondary btn-lg" %>
          <% end %>
      </p>
    </div>
</div>
